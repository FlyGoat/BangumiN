<h1 mat-dialog-title>{{'subject.tabs.overview.review.modal.title' | translate}}</h1>


<form [formGroup]="ratingForm">
  <div mat-dialog-content fxLayout="column">
    <app-star-rating
      [(currentRating)]="this.data.rating"
      formControlName="rating"
       [starCount]="10" [isEditable]="true" (ratingUpdated)="onRatingChanged($event)" ></app-star-rating>

    <mat-radio-group  fxFlexOffset="5%" fxFlexAlign="center" formControlName="collectionStatus">
      <mat-radio-button value="1"  >
        {{'subject.tabs.overview.review.status.wish' | translate}}{{getActionTypeName(2) | translate}}
      </mat-radio-button>
      <mat-radio-button value="2">
        {{getActionTypeName(2) | translate}}{{'subject.tabs.overview.review.status.collect' | translate}}
      </mat-radio-button>
      <mat-radio-button value="3">
        {{'subject.tabs.overview.review.status.do' | translate}}{{getActionTypeName(2) | translate}}
      </mat-radio-button>
      <mat-radio-button value="4">
        {{'subject.tabs.overview.review.status.on_hold' | translate}}
      </mat-radio-button>
      <mat-radio-button value="5">
        {{'subject.tabs.overview.review.status.dropped' | translate}}
      </mat-radio-button>
    </mat-radio-group>

    <mat-form-field fxFlexOffset.lt-md="1%" fxFlexOffset.gt-sm="3%">
  <textarea matInput placeholder="{{'subject.tabs.overview.review.modal.comment' | translate: {commentCurrentLength:ratingForm.value.comment.length, commentMaxLength: commentMaxLength} }}"
            formControlName="comment"
            matTextareaAutosize matAutosizeMinRows="2" matAutosizeMaxRows="10" [errorStateMatcher]="matcher"></textarea>
    </mat-form-field>
    <mat-error *ngIf="ratingForm.controls['comment'].errors">
      {{'subject.tabs.overview.review.modal.error.comment.maxLength' | translate: {commentMaxLength: commentMaxLength} }}
    </mat-error>
  </div>
  <div mat-dialog-actions>
    <button mat-button mat-dialog-close>{{'subject.tabs.overview.review.modal.cancel' | translate}}</button>
    <button mat-button (click)="onSubmitClick()" cdkFocusInitial>{{'subject.tabs.overview.review.modal.submit' | translate}}</button>
  </div>
</form>


